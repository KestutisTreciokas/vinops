# HOWTO: Оформление PR в агентной системе

## Обязательные разделы PR
1) **План (пошагово):** чёткий список действий, порядок применения, ожидаемые артефакты.  
2) **Код-диффы / ссылки на коммиты:** что именно меняется и почему.  
3) **Doc impact:** список файлов документации, которые обновлены в этом PR.  
4) **Риски/Откаты:** что может сломаться и как откатить.  
5) **Инструкции для ручной проверки (если нужны):** шаги и ожидаемые признаки.

## Примеры вложений
- YAML-фрагменты для GitHub Actions;  
- TypeScript/Node-скрипты (минимально необходимые);  
- JSON-схемы и конфиги;  
- shell-команды в SAFE BLOCK-ах (read-only/изменяющие — по правилам безопасности).

## Запреты
- Прямые push в main;  
- Изменение секретов вне GitHub Environments;  
- Ломка инвариантов Closed-MS без отдельной миграции.

## После merge
- Проверить отчёт Post-merge Smokes;  
- Убедиться, что Doc & Knowledge Sync прошёл;  
- При расхождениях — открыть CR-фикс.
